{"version":3,"sources":["../src/wordsselection.js"],"names":["init","selectedWordsIds","submitButton","prop","on","event","element","target","wordId","data","wordIndex","indexOf","splice","removeClass","push","addClass","length","window","console","log","val","join","trigger"],"mappings":"iJASA,uDAEO,GAAMA,CAAAA,CAAI,CAAG,UAAM,IAClBC,CAAAA,CAAgB,CAAG,EADD,CAElBC,CAAY,CAAG,cAAE,0BAAF,CAFG,CAItBA,CAAY,CAACC,IAAb,CAAkB,UAAlB,KAEA,cAAE,aAAF,EAAiBC,EAAjB,CAAoB,OAApB,CAA6B,SAACC,CAAD,CAAW,IAC9BC,CAAAA,CAAO,CAAG,cAAED,CAAK,CAACE,MAAR,CADoB,CAE9BC,CAAM,CAAGF,CAAO,CAACG,IAAR,CAAa,SAAb,CAFqB,CAI9BC,CAAS,CAAGT,CAAgB,CAACU,OAAjB,CAAyBH,CAAzB,CAJkB,CAKpC,GAAgB,CAAC,CAAb,CAAAE,CAAJ,CAAoB,CAChBT,CAAgB,CAACW,MAAjB,CAAwBF,CAAxB,CAAmC,CAAnC,EACAJ,CAAO,CAACO,WAAR,CAAoB,MAApB,CACH,CAHD,IAGO,CACHZ,CAAgB,CAACa,IAAjB,CAAsBN,CAAtB,EACAF,CAAO,CAACS,QAAR,CAAiB,MAAjB,CACH,CAEDb,CAAY,CAACC,IAAb,CAAkB,UAAlB,CAAyD,CAA3B,EAAAF,CAAgB,CAACe,MAA/C,EAEAC,MAAM,CAACC,OAAP,CAAeC,GAAf,CAAmBlB,CAAnB,CACH,CAhBD,EAkBAC,CAAY,CAACE,EAAb,CAAgB,OAAhB,CAAyB,UAAM,CAC3B,cAAE,4BAAF,EAAgCgB,GAAhC,CAAoCnB,CAAgB,CAACoB,IAAjB,EAApC,EACA,cAAE,gCAAF,EAAoCC,OAApC,CAA4C,QAA5C,CACH,CAHD,CAIH,CA5BM,C","sourcesContent":["/**\n * Words selection.\n *\n * Fills an array of IDs by clicking on words in a text (links are defined in PHP).\n *\n * @package mod_tupf\n * @author Marc Heimendinger\n */\n\nimport $ from 'jquery';\n\nexport const init = () => {\n    let selectedWordsIds = [];\n    let submitButton = $('input#tupf-submit-button');\n\n    submitButton.prop('disabled', true);\n\n    $('a.tupf-word').on('click', (event) => {\n        const element = $(event.target);\n        const wordId = element.data('word-id');\n\n        const wordIndex = selectedWordsIds.indexOf(wordId);\n        if (wordIndex > -1) { // Deselection\n            selectedWordsIds.splice(wordIndex, 1);\n            element.removeClass('mark');\n        } else { // Selection\n            selectedWordsIds.push(wordId);\n            element.addClass('mark');\n        }\n\n        submitButton.prop('disabled', selectedWordsIds.length == 0);\n\n        window.console.log(selectedWordsIds);\n    });\n\n    submitButton.on('click', () => {\n        $('input[name=selected-words]').val(selectedWordsIds.join());\n        $('form#tupf-words-selection-form').trigger('submit');\n    });\n};"],"file":"wordsselection.min.js"}